---
title: 'My voice... but make it synthetic ðŸ¤–'
excerpt: "The goal of speech synthesis, also known as text-to-speech, is to convert written texts into spoken utterances. Speech synthesis finds application in many areas of our everyday life, ranging from announcements at train stations to voice assistants in call centers."
permalink: /posts/my-synthetic-voice/
tags:
  - speech synthesis
  - voice cloning
---
<h2>Do machines dream of synthetic voices?</h2>
<div style="text-align: justify;">Speech is the most natural way of communicating for human beings. Systems of spoken language had developed long before the most primitive attempts at writing were even made. While the gift of language in general and speech in particular comes easy to people, the science has been struggling to make machines produce speech that would sound as natural as possible.</div>
<p>
<div style="text-align: justify;">The goal of speech synthesis, also known as text-to-speech, is to convert written texts into spoken utterances. Speech synthesis finds application in many areas of our everyday life, ranging from announcements at train stations to voice assistants in call centers.</div>
<p>
<div style="text-align: justify;">Given we have the recordings of a person speaking, we may recreate their voice to generate arbitrary utterances. This is a unique opportunity for people who have lost their voices due to some medical issues. Text-to-speech can also be used to reconstruct the voice of deceased loved ones. Sometimes hearing reassuring things in the voice of a late beloved may help to process the grief and ease the pain.</div>
<p>
<div style="text-align: justify;">...Or we can build our own voice right now just for fun!</div>
<p>


<h2>Listen to some things I never said... (but then I did)</h2>
<div style="text-align: justify;">Here are several samples of synthetically created utterances along with the references, i.e. me pronouncing the same sentences. Speech samples under "Unit selection" header are generated by an open-source framework Festival using the custom voice I've built on my own speech data (around 400 recordings of me reading prompts from <a href="http://www.festvox.org/cmu_arctic/">the CMU ARCTIC dataset</a>.). Samples under "SV2TTS" are created with the help of <a href="https://github.com/CorentinJ/Real-Time-Voice-Cloning">SV2TTS, a real-time voice cloning framework</a> that uses pre-trained deep neural networks.</div>
<p>
<div style="text-align: justify;">NB: All wave files have the following characteristics: 16kHz sampling rate, 1 channel, 16-bit.</div>

<p>
<p>

<table>
  <tr>
    <th>Unit selection</th>
    <th>SV2TTS</th>
    <th>Reference speech</th>
  </tr>

  <tr>
    <td>
      <audio controls>
        <source src="https://maya-ami.github.io/files/happiness_us.wav" type="audio/x-wav">
      Your browser does not support the audio element.  
      </audio>
    </td>

    <td>
      <audio controls>
        <source src="https://maya-ami.github.io/files/happiness_nn.wav" type="audio/x-wav">
      Your browser does not support the audio element.  
      </audio>
    </td>

    <td>
      <audio controls>
        <source src="https://maya-ami.github.io/files/happiness_og.wav" type="audio/x-wav">
      Your browser does not support the audio element.  
      </audio>
    </td>

  </tr>
<table style="border-color: transparent;">
<tr>1. "Happiness isn't in the having. It's in just being. It's in just saying it."</tr>
<br>
<table>
    <tr>
      <th>Unit selection</th>
      <th>SV2TTS</th>
      <th>Reference speech</th>
    </tr>

    <tr>
      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/maturity_us.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/maturity_nn.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/maturity_og.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

    </tr>
<table style="border-color: transparent;">
<tr>2. "Maturity is a bitter disappointment for which no remedy exists, unless laughter could be said to remedy anything."</tr>
  <br>
  <table>
      <tr>
        <th>Unit selection</th>
        <th>SV2TTS</th>
        <th>Reference speech</th>
      </tr>

      <tr>
        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/dont_know_us.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/dont_know_nn.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/dont_know_og.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

      </tr>

      <br>
  <table style="border-color: transparent;">
  <tr>3. "If you don't know, the thing to do is not to get scared, but to learn."</tr>

  <table>
      <tr>
        <th>Unit selection</th>
        <th>SV2TTS</th>
        <th>Reference speech</th>
      </tr>

      <tr>
        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/little_things_us.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/little_things_nn.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

        <td>
          <audio controls>
            <source src="https://maya-ami.github.io/files/little_things_og.wav" type="audio/x-wav">
          Your browser does not support the audio element.  
          </audio>
        </td>

      </tr>
<table style="border-color: transparent;">
<tr>4. "Enjoy the little things in life, for one day you'll look back and realize they were big things."</tr>

<br>

<table>
    <tr>
      <th>Unit selection</th>
      <th>SV2TTS</th>
      <th>Reference speech</th>
    </tr>

    <tr>
      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/fear_us.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/fear_nn.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/fear_og.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

    </tr>

<table style="border-color: transparent;">
<tr>5. "Fear is the path to the dark side. Fear leads to anger. Anger leads to hate. Hate leads to suffering."</tr>

<br>
<table>
    <tr>
      <th>Unit selection</th>
      <th>SV2TTS</th>
      <th>Reference speech</th>
    </tr>

    <tr>
      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/funeral_blues_us.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/funeral_blues_nn.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

      <td>
        <audio controls>
          <source src="https://maya-ami.github.io/files/funeral_blues_og.wav" type="audio/x-wav">
        Your browser does not support the audio element.  
        </audio>
      </td>

    </tr>
<table style="border-color: transparent;">
<tr>6. "He was my North, my South, my East and West, My working week and my Sunday rest, My noon, my midnight, my talk, my song; I thought that love would last forever: I was wrong."</tr>


<h2>You reap what you sow</h2>
<div style="text-align: justify;">Or how machine learning practitioners like to say: garbage in - garbage out. This statement stays true when we deal with speech synthesis as well. While TTS systems based on deep neural networks may benefit from such a concept as transfer learning, i.e. utilizing the knowledge gained by a model while being trained on different data or task, and in some cases may reproduce someone's voice with just a few samples, unit selection (concatenative) speech synthesis heavily rely on the data it is built with.</div>

<div style="text-align: justify;">As the name suggests, concatenative speech synthesizer selects pre-recorded units of speech and concatenates them to form a new utterance. It's obvious that the quality of generated speech will depend on how carefully the dataset was designed. To that end, there are several criteria that need to be considered:</div>

<ul>
  <li><b>Phonemic coverage.</b> While creating a script, it's important to strive to select sentences so that the final recording are phonetically balanced.</li>
  <li><b>Diphone (triphone) coverage.</b> It may seem counterintuitive to a non-phonetician that the same phoneme is not quite the same depending on the context it occurs in. Different realizations of the same phoneme are called allophones. When </li>
  <li><b>Prosodic coverage.</b></li>
    <li><b>Style of delivery.</b> While it doesn't really have much to do with data selection, but rather with recording the selected sentences, the delivery of the dataset by the speaker will immensely influence the synthetic voice.</li>
</ul>

<div style="text-align: justify;">The diagram below shows the distribution of individual phonemes in the dataset that I recorded for building my unit selection voice (NB: this is CMU phonetic notation). As we can see, some phonemes are severely underrepresented, especially vowels with the secondary stress (the ones with a digit 2).</div>
<p>
  <img src="/images/phoneme_coverage.png">
<p>

<!-- <div style="text-align: justify;">TO DO: diphone coverage diagram</div> -->

<!-- <h2>Looking at speech</h2>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"></div>
<div style="text-align: justify;"></div> -->
